<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui">
    <f:metadata>
        <f:event type="preRenderView" listener="#{bean.useDataBase()}" />
    </f:metadata>
    <h:head>
    </h:head>
    <body>
    <h:body>
        <h:outputLabel value="Welcome #{userBean.getName()}!"/>
        <h:form id="guess_form">
            <h:panelGrid>
                <h:outputLabel value="Number: #{bean.number}" style="display: none;"/>
                <h:inputText id="numero" binding="#{input}"/>
                <h:outputLabel value="Guesses made: #{bean.numGuesses}"/>

                <h:dataTable value="#{bean.getListaIntentos()}" var ="intentos">
                    <h:column>
                        <f:facet name="header"> Your guesses: </f:facet>
                        #{intentos}
                    </h:column>
                </h:dataTable>
                <h:outputLabel value="Total prize: #{bean.totalPrize}"/>
                <h:outputLabel value="Game state: #{bean.estado}"/>

                <p:commandButton update="guess_form" actionListener="#{bean.guess(input.value)}" value="Send guess!" styleClass="ui-button-success"/>
                <p:commandButton update="guess_form" actionListener="#{bean.restart()}" value="Restart game :(" styleClass="ui-button-success"/>
            </h:panelGrid>
        </h:form>
    </h:body>
    </body>
</html>